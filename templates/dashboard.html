<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Cinema Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <div class="container">
      <div class="header-container">
        <div class="header-border">
          <h2 class="header-title">
            CineMetrics – Data-Driven Cinema Insights
          </h2>
        </div>
      </div>

      <div class="chart-grid">
        <div class="chart-container">
          <div class="chart-header">
            <h3 class="chart-title">
              Number of Movies Produced By Country
            </h3>
            <button
              class="info-button"
              onclick="showInfoDialog(
                'Information', 
                'This choropleth map shows the number of movies produced by each country found on the October, 2024 version of '+
                '<a href=\'https://www.kaggle.com/datasets/alanvourch/tmdb-movies-daily-updates\' target=\'_blank\'>The Ultimate 1Million Movies Dataset (TMDB + IMDb)</a>'+
                '.<br><br> Countries with no known data are displayed as gray.'
              )"
            >i</button>
          </div>
          <div class="chart-content">
            {{ choropleth_chart | safe }}
          </div>
        </div>

        <div class="chart-container">
          <div class="chart-header">
            <h3 class="chart-title">
              Number of Movies Produced By Year
            </h3>
            <button
              class="info-button"
              onClick="showInfoDialog(
                'Information', 
                'This is the dialog for chart 2'
              )"
            >
              i
            </button>
          </div>
          <div class="chart-content">
            {{ releases_chart | safe }}
          </div>
        </div>

        <div class="chart-container">
          Aquí va el chart 3
        </div>

        <div class="chart-container">
          Aquí va el chart 4
        </div>

        <div class="chart-container">
          Aquí va el chart 5
        </div>

        <div class="chart-container">
          Aquí va el chart 6
        </div>
      </div>
    </div>

    <div id="infoDialog" class="dialog-overlay">
      <div class="dialog-content">
        <button class="close-button" onClick="hideInfoDialog()">&times;</button>
        <h2 id="dialogTitle" class="dialog-title">Title</h2>
        <div id="dialogMessage" class="dialog-message">Message goes here</div>
      </div>
    </div>

    <script>
      // Function to show the dialog with custom content
      function showInfoDialog(title, message) {
        document.getElementById('dialogTitle').textContent = title;
        document.getElementById('dialogMessage').innerHTML = message;
        document.getElementById('infoDialog').style.display = 'flex';
      }
      
      function hideInfoDialog() {
        document.getElementById('infoDialog').style.display = 'none';
      }
      
      document.getElementById('infoDialog').addEventListener('click', function(e) {
        if (e.target === this) {
            hideInfoDialog();
        }
      });
      
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            hideInfoDialog();
        }
      });
    </script>
  </body>
</html>
